<div class="card-body">
    <div class="d-flex justify-content-center">
        <div class="col-auto">
            <input type="text" class="form-control form-control-sm" placeholder="Î¨Î±Î¾Ï„Îµ Ï„Î¿ Î¤Îš"
                (keyup)="searchByTK($event)" />
        </div>

    </div>

    <div class="row">
        <div class="postal-tags">


            @for(code of postalCodes(); track code)
            {
            <span (click)="selectPostalCode(code)" [class.active]="code === selectedPostalCode">
                ğŸ“ {{ code }}
            </span>
            }

        </div>
        <hr />
        @if(selectedPostalCode)
        {
        <div class="schedule-section">
            <h3>Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± Ï„Î¿Î½ Î¤Îš: {{ selectedPostalCode }}</h3>
            <div class="mt-2 text-muted small">
                <p>Î Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Ï€Î±ÏÎ¬Î´Î¿ÏƒÎµÎ¹Ï‚ Ï„Ï‰Î½ Ï€ÏÎ¿Î¹ÏŒÎ½Ï„Ï‰Î½ Î³Î¹Î± Ï„Î¿ Î¤Îš {{selectedPostalCode}}. ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï„Î¿ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎµÏ„Îµ ÏŒÏ€Ï‰Ï‚ ÎµÏ€Î¹Î¸Ï…Î¼ÎµÎ¯Ï„Îµ</p>
            </div>
            @if (isLoading) {
            <div class="spinner-wrapper">
                <div class="spinner">Loading...</div>
            </div>
            }
            @else
            {
            @for(day of daysOfWeek; track day)
            {
            <div class="d-flex justify-content-between flex-wrap p-2">
                @if(deliverySchedule())
                {
                @if(deliverySchedule()[selectedPostalCode][day])
                { <div>
                    <strong>{{ day }}:</strong>
                    @for(slot of deliverySchedule()[selectedPostalCode][day]; track slot; let i = $index;)
                    {
                    <span class="slot">
                        {{ slot }}
                        <button (click)="removeTimeSlot(day, i)">ğŸ—‘ï¸</button>
                    </span>
                    }

                </div>
                }
                }


            </div>
            }
            }



            <!-- Add new time slot -->
            <div class="add-section">
                <label>Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î½Î­Î±Ï‚ Î¼ÎµÏÎ±Ï‚ ÎºÎ±Î¹ Ï‰ÏÎ±Ï‚ Ï€Î±ÏÎ¬Î´Î¿ÏƒÎ·Ï‚</label>
                <select [(ngModel)]="newDay">
                    <option value="" disabled>Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î¼ÎµÏÎ±</option>

                    @for(day of daysOfWeek; track day) {
                    <option [value]="day">{{ day }}</option>

                    }
                </select>
                <select [(ngModel)]="selectedStartSlot">
                    <option value="" disabled>ÎÏÎ± Î­Î½Î±ÏÎ¾Î·Ï‚</option>
                    @for(slot of startSlotIntervals; track slot) {
                    <option [value]="slot">{{ slot }}</option>
                    }
                </select>
                <select [(ngModel)]="selectedEndSlot">
                    <option value="" disabled>Î©ÏÎ± Î»Î®Î¾Î·Ï‚</option>
                    @for(slot of endSlotIntervals; track slot) {
                    <option [value]="slot">{{ slot }}</option>
                    }
                </select>

                <button type="button" class="btn btn-success btn-icon-text"
                    (click)="addDay(newDay); addTimeSlot(newDay, selectedStartSlot,selectedEndSlot)">
                    <i class="feather icon-plus-circle"></i> Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·
                </button>
            </div>
        </div>
        }


    </div>
</div>